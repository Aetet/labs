//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "Unit1.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm1 *Form1;
//---------------------------------------------------------------------------
__fastcall TForm1::TForm1(TComponent* Owner)
        : TForm(Owner)
{
}
//---------------------------------------------------------------------------
int* c[3];
void __fastcall TForm1::Button1Click(TObject *Sender)
{
int t=Edit1->Text.Length();

c[0]=new int[t];
c[1]=new int[t];
c[2]=new int[t];

for(int i=0;i<t;i++)
{
        c[0][i]=Edit1->Text[i+1]-'0';
        c[1][i]=0;
        c[2][i]=0;
}
int a=1;
int b=2;
//c[0,i]=a^3
c[1][1]+=+c[0][4]*1;
c[0][0]+=+c[0][4]*2;
c[1][0]+=-c[0][4]*2;
c[2][0]+=+c[0][4]*2;
c[0][1]+=-c[0][4]*2;
c[1][1]+=+c[0][4]*2;
c[1][1]+=+c[0][4]*2;
c[0][0]+=+c[0][4]*4;
c[1][1]+=+c[0][4]*2;
c[0][0]+=+c[0][4]*4;
c[1][0]+=-c[0][4]*4;
c[1][1]+=+c[0][4]*2;
c[0][0]+=+c[0][4]*4;
c[1][0]+=-c[0][4]*4;
c[2][0]+=+c[0][4]*4;
c[0][4]=0;
c[1][1]+=-c[0][3]*1;
c[0][0]+=-c[0][3]*2;
c[1][0]+=+c[0][3]*2;
c[2][0]+=-c[0][3]*2;
c[0][1]+=+c[0][3]*2;
c[1][1]+=-c[0][3]*2;
c[0][3]=0;
c[1][1]+=+c[0][2]*1;
c[0][0]+=+c[0][2]*2;
c[1][0]+=-c[0][2]*2;
c[0][2]=0;

for(int i=0;i<t;i++)
        Edit2->Text=Edit2->Text+AnsiString((c[i%3][i/3]+30)%3);
}
//---------------------------------------------------------------------------
